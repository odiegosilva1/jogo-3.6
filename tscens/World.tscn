[gd_scene load_steps=41 format=2]

[ext_resource path="res://assets/floor/model.obj" type="ArrayMesh" id=2]
[ext_resource path="res://shaders/psx.shader" type="Shader" id=3]
[ext_resource path="res://assets/walls/model.obj" type="ArrayMesh" id=4]
[ext_resource path="res://assets/walls/wall_cobblestone_32px.png" type="Texture" id=5]
[ext_resource path="res://assets/floor/grass 17 - 128x128.png" type="Texture" id=6]
[ext_resource path="res://assets/walls/sky.png" type="Texture" id=7]
[ext_resource path="res://tscens/Player.tscn" type="PackedScene" id=8]

[sub_resource type="ShaderMaterial" id=9]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=10]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=11]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=12]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=13]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=14]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=15]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=16]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=17]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=18]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=19]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=20]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=21]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=22]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=23]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=24]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=25]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=26]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=27]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=28]
shader = ExtResource( 3 )
shader_param/snapRes = 32.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=29]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=30]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 3, 4 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=31]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=32]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ShaderMaterial" id=33]
shader = ExtResource( 3 )
shader_param/snapRes = 28.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 4, 3 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 5 )

[sub_resource type="ConcavePolygonShape" id=2]
data = PoolVector3Array( 4.125, 2.25, -3.5, 4.125, 2.25, -4, 4.125, 0, -3.5, 4.125, 0, -3.5, 4.125, 2.25, -4, 4.125, 0, -4, 3.625, 2.25, -3.5, 3.625, 0, -3.5, 3.625, 2.25, -4, 3.625, 2.25, -4, 3.625, 0, -3.5, 3.625, 0, -4, 4.125, 2.25, -3.5, 3.625, 2.25, -3.5, 4.125, 2.25, -4, 4.125, 2.25, -4, 3.625, 2.25, -3.5, 3.625, 2.25, -4, 4.125, 0, -3.5, 4.125, 0, -4, 3.625, 0, -3.5, 3.625, 0, -3.5, 4.125, 0, -4, 3.625, 0, -4, 4.125, 2.25, -3.5, 4.125, 0, -3.5, 3.625, 2.25, -3.5, 3.625, 2.25, -3.5, 4.125, 0, -3.5, 3.625, 0, -3.5, 4.125, 2.25, -4, 3.625, 2.25, -4, 4.125, 0, -4, 4.125, 0, -4, 3.625, 2.25, -4, 3.625, 0, -4, 4.25, 2.5, -3.375, 4.25, 2.5, -4.125, 4.25, 2.25, -3.375, 4.25, 2.25, -3.375, 4.25, 2.5, -4.125, 4.25, 2.25, -4.125, 3.5, 2.5, -3.375, 3.5, 2.25, -3.375, 3.5, 2.5, -4.125, 3.5, 2.5, -4.125, 3.5, 2.25, -3.375, 3.5, 2.25, -4.125, 4.25, 2.5, -3.375, 3.5, 2.5, -3.375, 4.25, 2.5, -4.125, 4.25, 2.5, -4.125, 3.5, 2.5, -3.375, 3.5, 2.5, -4.125, 4.25, 2.25, -3.375, 4.25, 2.25, -4.125, 3.5, 2.25, -3.375, 3.5, 2.25, -3.375, 4.25, 2.25, -4.125, 3.5, 2.25, -4.125, 4.25, 2.5, -3.375, 4.25, 2.25, -3.375, 3.5, 2.5, -3.375, 3.5, 2.5, -3.375, 4.25, 2.25, -3.375, 3.5, 2.25, -3.375, 4.25, 2.5, -4.125, 3.5, 2.5, -4.125, 4.25, 2.25, -4.125, 4.25, 2.25, -4.125, 3.5, 2.5, -4.125, 3.5, 2.25, -4.125, -3.875, 2.25, 4, -3.875, 2.25, 3.5, -3.875, 0, 4, -3.875, 0, 4, -3.875, 2.25, 3.5, -3.875, 0, 3.5, -4.375, 2.25, 4, -4.375, 0, 4, -4.375, 2.25, 3.5, -4.375, 2.25, 3.5, -4.375, 0, 4, -4.375, 0, 3.5, -3.875, 2.25, 4, -4.375, 2.25, 4, -3.875, 2.25, 3.5, -3.875, 2.25, 3.5, -4.375, 2.25, 4, -4.375, 2.25, 3.5, -3.875, 0, 4, -3.875, 0, 3.5, -4.375, 0, 4, -4.375, 0, 4, -3.875, 0, 3.5, -4.375, 0, 3.5, -3.875, 2.25, 4, -3.875, 0, 4, -4.375, 2.25, 4, -4.375, 2.25, 4, -3.875, 0, 4, -4.375, 0, 4, -3.875, 2.25, 3.5, -4.375, 2.25, 3.5, -3.875, 0, 3.5, -3.875, 0, 3.5, -4.375, 2.25, 3.5, -4.375, 0, 3.5, -3.75, 2.5, 4.125, -3.75, 2.5, 3.375, -3.75, 2.25, 4.125, -3.75, 2.25, 4.125, -3.75, 2.5, 3.375, -3.75, 2.25, 3.375, -4.5, 2.5, 4.125, -4.5, 2.25, 4.125, -4.5, 2.5, 3.375, -4.5, 2.5, 3.375, -4.5, 2.25, 4.125, -4.5, 2.25, 3.375, -3.75, 2.5, 4.125, -4.5, 2.5, 4.125, -3.75, 2.5, 3.375, -3.75, 2.5, 3.375, -4.5, 2.5, 4.125, -4.5, 2.5, 3.375, -3.75, 2.25, 4.125, -3.75, 2.25, 3.375, -4.5, 2.25, 4.125, -4.5, 2.25, 4.125, -3.75, 2.25, 3.375, -4.5, 2.25, 3.375, -3.75, 2.5, 4.125, -3.75, 2.25, 4.125, -4.5, 2.5, 4.125, -4.5, 2.5, 4.125, -3.75, 2.25, 4.125, -4.5, 2.25, 4.125, -3.75, 2.5, 3.375, -4.5, 2.5, 3.375, -3.75, 2.25, 3.375, -3.75, 2.25, 3.375, -4.5, 2.5, 3.375, -4.5, 2.25, 3.375, -3.875, 2.25, -3.5, -3.875, 2.25, -4, -3.875, 0, -3.5, -3.875, 0, -3.5, -3.875, 2.25, -4, -3.875, 0, -4, -4.375, 2.25, -3.5, -4.375, 0, -3.5, -4.375, 2.25, -4, -4.375, 2.25, -4, -4.375, 0, -3.5, -4.375, 0, -4, -3.875, 2.25, -3.5, -4.375, 2.25, -3.5, -3.875, 2.25, -4, -3.875, 2.25, -4, -4.375, 2.25, -3.5, -4.375, 2.25, -4, -3.875, 0, -3.5, -3.875, 0, -4, -4.375, 0, -3.5, -4.375, 0, -3.5, -3.875, 0, -4, -4.375, 0, -4, -3.875, 2.25, -3.5, -3.875, 0, -3.5, -4.375, 2.25, -3.5, -4.375, 2.25, -3.5, -3.875, 0, -3.5, -4.375, 0, -3.5, -3.875, 2.25, -4, -4.375, 2.25, -4, -3.875, 0, -4, -3.875, 0, -4, -4.375, 2.25, -4, -4.375, 0, -4, -3.75, 2.5, -3.375, -3.75, 2.5, -4.125, -3.75, 2.25, -3.375, -3.75, 2.25, -3.375, -3.75, 2.5, -4.125, -3.75, 2.25, -4.125, -4.5, 2.5, -3.375, -4.5, 2.25, -3.375, -4.5, 2.5, -4.125, -4.5, 2.5, -4.125, -4.5, 2.25, -3.375, -4.5, 2.25, -4.125, -3.75, 2.5, -3.375, -4.5, 2.5, -3.375, -3.75, 2.5, -4.125, -3.75, 2.5, -4.125, -4.5, 2.5, -3.375, -4.5, 2.5, -4.125, -3.75, 2.25, -3.375, -3.75, 2.25, -4.125, -4.5, 2.25, -3.375, -4.5, 2.25, -3.375, -3.75, 2.25, -4.125, -4.5, 2.25, -4.125, -3.75, 2.5, -3.375, -3.75, 2.25, -3.375, -4.5, 2.5, -3.375, -4.5, 2.5, -3.375, -3.75, 2.25, -3.375, -4.5, 2.25, -3.375, -3.75, 2.5, -4.125, -4.5, 2.5, -4.125, -3.75, 2.25, -4.125, -3.75, 2.25, -4.125, -4.5, 2.5, -4.125, -4.5, 2.25, -4.125, 4.1875, 2.25, 4, 4.1875, 2.25, 3.5, 4.1875, 0, 4, 4.1875, 0, 4, 4.1875, 2.25, 3.5, 4.1875, 0, 3.5, 3.6875, 2.25, 4, 3.6875, 0, 4, 3.6875, 2.25, 3.5, 3.6875, 2.25, 3.5, 3.6875, 0, 4, 3.6875, 0, 3.5, 4.1875, 2.25, 4, 3.6875, 2.25, 4, 4.1875, 2.25, 3.5, 4.1875, 2.25, 3.5, 3.6875, 2.25, 4, 3.6875, 2.25, 3.5, 4.1875, 0, 4, 4.1875, 0, 3.5, 3.6875, 0, 4, 3.6875, 0, 4, 4.1875, 0, 3.5, 3.6875, 0, 3.5, 4.1875, 2.25, 4, 4.1875, 0, 4, 3.6875, 2.25, 4, 3.6875, 2.25, 4, 4.1875, 0, 4, 3.6875, 0, 4, 4.1875, 2.25, 3.5, 3.6875, 2.25, 3.5, 4.1875, 0, 3.5, 4.1875, 0, 3.5, 3.6875, 2.25, 3.5, 3.6875, 0, 3.5, 4.3125, 2.5, 4.125, 4.3125, 2.5, 3.375, 4.3125, 2.25, 4.125, 4.3125, 2.25, 4.125, 4.3125, 2.5, 3.375, 4.3125, 2.25, 3.375, 3.5625, 2.5, 4.125, 3.5625, 2.25, 4.125, 3.5625, 2.5, 3.375, 3.5625, 2.5, 3.375, 3.5625, 2.25, 4.125, 3.5625, 2.25, 3.375, 4.3125, 2.5, 4.125, 3.5625, 2.5, 4.125, 4.3125, 2.5, 3.375, 4.3125, 2.5, 3.375, 3.5625, 2.5, 4.125, 3.5625, 2.5, 3.375, 4.3125, 2.25, 4.125, 4.3125, 2.25, 3.375, 3.5625, 2.25, 4.125, 3.5625, 2.25, 4.125, 4.3125, 2.25, 3.375, 3.5625, 2.25, 3.375, 4.3125, 2.5, 4.125, 4.3125, 2.25, 4.125, 3.5625, 2.5, 4.125, 3.5625, 2.5, 4.125, 4.3125, 2.25, 4.125, 3.5625, 2.25, 4.125, 4.3125, 2.5, 3.375, 3.5625, 2.5, 3.375, 4.3125, 2.25, 3.375, 4.3125, 2.25, 3.375, 3.5625, 2.5, 3.375, 3.5625, 2.25, 3.375, 3.6875, 1.875, 4, 4.1875, 1.875, 4, 3.6875, 0, 4, 3.6875, 0, 4, 4.1875, 1.875, 4, 4.1875, 0, 4, 3.6875, 1.875, -4, 3.6875, 0, -4, 4.1875, 1.875, -4, 4.1875, 1.875, -4, 3.6875, 0, -4, 4.1875, 0, -4, 3.6875, 1.875, 4, 3.6875, 1.875, -4, 4.1875, 1.875, 4, 4.1875, 1.875, 4, 3.6875, 1.875, -4, 4.1875, 1.875, -4, 3.6875, 0, 4, 4.1875, 0, 4, 3.6875, 0, -4, 3.6875, 0, -4, 4.1875, 0, 4, 4.1875, 0, -4, 3.6875, 1.875, 4, 3.6875, 0, 4, 3.6875, 1.875, -4, 3.6875, 1.875, -4, 3.6875, 0, 4, 3.6875, 0, -4, 4.1875, 1.875, 4, 4.1875, 1.875, -4, 4.1875, 0, 4, 4.1875, 0, 4, 4.1875, 1.875, -4, 4.1875, 0, -4, -4.4375, 1.875, 4, -3.9375, 1.875, 4, -4.4375, 0, 4, -4.4375, 0, 4, -3.9375, 1.875, 4, -3.9375, 0, 4, -4.4375, 1.875, -4, -4.4375, 0, -4, -3.9375, 1.875, -4, -3.9375, 1.875, -4, -4.4375, 0, -4, -3.9375, 0, -4, -4.4375, 1.875, 4, -4.4375, 1.875, -4, -3.9375, 1.875, 4, -3.9375, 1.875, 4, -4.4375, 1.875, -4, -3.9375, 1.875, -4, -4.4375, 0, 4, -3.9375, 0, 4, -4.4375, 0, -4, -4.4375, 0, -4, -3.9375, 0, 4, -3.9375, 0, -4, -4.4375, 1.875, 4, -4.4375, 0, 4, -4.4375, 1.875, -4, -4.4375, 1.875, -4, -4.4375, 0, 4, -4.4375, 0, -4, -3.9375, 1.875, 4, -3.9375, 1.875, -4, -3.9375, 0, 4, -3.9375, 0, 4, -3.9375, 1.875, -4, -3.9375, 0, -4, 4, 1.875, -3.5, 4, 1.875, -4, 4, 0, -3.5, 4, 0, -3.5, 4, 1.875, -4, 4, 0, -4, -4, 1.875, -3.5, -4, 0, -3.5, -4, 1.875, -4, -4, 1.875, -4, -4, 0, -3.5, -4, 0, -4, 4, 1.875, -3.5, -4, 1.875, -3.5, 4, 1.875, -4, 4, 1.875, -4, -4, 1.875, -3.5, -4, 1.875, -4, 4, 0, -3.5, 4, 0, -4, -4, 0, -3.5, -4, 0, -3.5, 4, 0, -4, -4, 0, -4, 4, 1.875, -3.5, 4, 0, -3.5, -4, 1.875, -3.5, -4, 1.875, -3.5, 4, 0, -3.5, -4, 0, -3.5, 4, 1.875, -4, -4, 1.875, -4, 4, 0, -4, 4, 0, -4, -4, 1.875, -4, -4, 0, -4, 4, 1.875, 4, 4, 1.875, 3.5, 4, 0, 4, 4, 0, 4, 4, 1.875, 3.5, 4, 0, 3.5, -4, 1.875, 4, -4, 0, 4, -4, 1.875, 3.5, -4, 1.875, 3.5, -4, 0, 4, -4, 0, 3.5, 4, 1.875, 4, -4, 1.875, 4, 4, 1.875, 3.5, 4, 1.875, 3.5, -4, 1.875, 4, -4, 1.875, 3.5, 4, 0, 4, 4, 0, 3.5, -4, 0, 4, -4, 0, 4, 4, 0, 3.5, -4, 0, 3.5, 4, 1.875, 4, 4, 0, 4, -4, 1.875, 4, -4, 1.875, 4, 4, 0, 4, -4, 0, 4, 4, 1.875, 3.5, -4, 1.875, 3.5, 4, 0, 3.5, 4, 0, 3.5, -4, 1.875, 3.5, -4, 0, 3.5 )

[sub_resource type="ShaderMaterial" id=1]
shader = ExtResource( 3 )
shader_param/snapRes = 18.0
shader_param/roughness = 1.0
shader_param/specular = 0.1
shader_param/uv_scale = Vector2( 18, 18 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/light_intensity = 0.3
shader_param/transparent = false
shader_param/albedoTex = ExtResource( 6 )

[sub_resource type="ConcavePolygonShape" id=3]
data = PoolVector3Array( -4, 0, 2, -2, 0, 4, -4, 0, 4, -2, 0, 2, -2, 0, 4, -4, 0, 2, -4, 0, 2, -4, 0, 0, -2, 0, 2, -2, 0, 2, 0, 0, 4, -2, 0, 4, -2, 0, 2, -4, 0, 0, -2, 0, 0, -4, 0, -2, -2, 0, 0, -4, 0, 0, 0, 0, 2, 0, 0, 4, -2, 0, 2, -2, 0, 2, -2, 0, 0, 0, 0, 2, 0, 0, 2, 2, 0, 4, 0, 0, 4, -2, 0, -2, -2, 0, 0, -4, 0, -2, -4, 0, -2, -4, 0, -4, -2, 0, -2, -2, 0, -2, -4, 0, -4, -2, 0, -4, 0, 0, 2, -2, 0, 0, 0, 0, 0, -2, 0, -2, 0, 0, 0, -2, 0, 0, 2, 0, 2, 2, 0, 4, 0, 0, 2, 0, 0, 2, 0, 0, 0, 2, 0, 2, 2, 0, 2, 4, 0, 4, 2, 0, 4, 4, 0, 2, 4, 0, 4, 2, 0, 2, -2, 0, -2, -2, 0, -4, 0, 0, -2, 0, 0, -2, 0, 0, 0, -2, 0, -2, 0, 0, -2, -2, 0, -4, 0, 0, -4, 2, 0, 2, 0, 0, 0, 2, 0, 0, 2, 0, 2, 2, 0, 0, 4, 0, 2, 0, 0, -2, 2, 0, 0, 0, 0, 0, 4, 0, 2, 2, 0, 0, 4, 0, 0, 0, 0, -2, 0, 0, -4, 2, 0, -2, 2, 0, -2, 2, 0, 0, 0, 0, -2, 2, 0, -2, 4, 0, 0, 2, 0, 0, 2, 0, -2, 0, 0, -4, 2, 0, -4, 4, 0, -2, 4, 0, 0, 2, 0, -2, 2, 0, -2, 2, 0, -4, 4, 0, -2, 4, 0, -2, 2, 0, -4, 4, 0, -4 )

[sub_resource type="QuadMesh" id=4]
size = Vector2( 2, 2 )

[sub_resource type="Shader" id=5]
code = "shader_type spatial;
render_mode unshaded, shadows_disabled, depth_test_disable, depth_draw_never;

uniform int color_depth : hint_range(1, 8) = 5;
uniform bool dithering = true;
uniform int resolution_scale = 4;

int dithering_pattern(ivec2 fragcoord) {
	const int pattern[] = {
		-4, +0, -3, +1, 
		+2, -2, +3, -1, 
		-3, +1, -4, +0, 
		+3, -1, +2, -2
	};
	
	int x = fragcoord.x % 4;
	int y = fragcoord.y % 4;
	
	return pattern[y * 4 + x];
}

void vertex() {
	POSITION = vec4(VERTEX, 1.0);
}

void fragment() {
	ivec2 uv = ivec2(FRAGCOORD.xy / float(resolution_scale));
	vec3 color = texelFetch(SCREEN_TEXTURE, uv * resolution_scale, 0).rgb;
	
	// Convert from [0.0, 1.0] range to [0, 255] range
	ivec3 c = ivec3(round(color * 255.0));
	
	// Apply the dithering pattern
	if (dithering) {
		c += ivec3(dithering_pattern(uv));
	}
	
	// Truncate from 8 bits to color_depth bits
	c >>= (8 - color_depth);

	// Convert back to [0.0, 1.0] range
	ALBEDO = vec3(c) / float(1 << color_depth);
}"

[sub_resource type="ShaderMaterial" id=6]
shader = SubResource( 5 )
shader_param/color_depth = 5
shader_param/dithering = true
shader_param/resolution_scale = 1

[sub_resource type="PanoramaSky" id=7]
panorama = ExtResource( 7 )

[sub_resource type="Environment" id=8]
background_mode = 2
background_sky = SubResource( 7 )

[node name="World2" type="Spatial"]

[node name="Wall" type="MeshInstance" parent="."]
transform = Transform( 35, 0, 0, 0, 35, 0, 0, 0, 35, -0.239087, -0.120655, -0.10009 )
mesh = ExtResource( 4 )
material/0 = SubResource( 9 )
material/1 = SubResource( 10 )
material/2 = SubResource( 11 )
material/3 = SubResource( 12 )
material/4 = SubResource( 13 )
material/5 = SubResource( 14 )
material/6 = SubResource( 15 )
material/7 = SubResource( 16 )
material/8 = SubResource( 17 )
material/9 = SubResource( 18 )
material/10 = SubResource( 19 )
material/11 = SubResource( 20 )
material/12 = SubResource( 21 )
material/13 = SubResource( 22 )
material/14 = SubResource( 23 )
material/15 = SubResource( 24 )
material/16 = SubResource( 25 )
material/17 = SubResource( 26 )
material/18 = SubResource( 27 )
material/19 = SubResource( 28 )
material/20 = SubResource( 29 )
material/21 = SubResource( 30 )
material/22 = SubResource( 31 )
material/23 = SubResource( 32 )
material/24 = SubResource( 33 )

[node name="StaticBody" type="StaticBody" parent="Wall"]

[node name="CollisionShape" type="CollisionShape" parent="Wall/StaticBody"]
shape = SubResource( 2 )

[node name="Flooer" type="MeshInstance" parent="."]
transform = Transform( 35, 0, 0, 0, 35, 0, 0, 0, 35, 0, 0, 0 )
mesh = ExtResource( 2 )
material/0 = SubResource( 1 )

[node name="StaticBody" type="StaticBody" parent="Flooer"]

[node name="CollisionShape" type="CollisionShape" parent="Flooer/StaticBody"]
shape = SubResource( 3 )

[node name="KinematicBody" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.339814, 0 )

[node name="MeshInstance" type="MeshInstance" parent="."]
extra_cull_margin = 16200.0
mesh = SubResource( 4 )
material/0 = SubResource( 6 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 8 )

[node name="DirectionalLight" type="DirectionalLight" parent="WorldEnvironment"]
transform = Transform( 1, 0, 0, 0, 0.00823782, 0.999966, 0, -0.999966, 0.00823782, 0, -1.09046, 0 )
